# 日志

## W1 1.2 - 1.7

- 梳理项目框架
- JavaScript 规则描述到 JSON 规则描述的转译器
- Web 端检测框架
- C# e2e 调研

## W2 1.8 - 1.14

- 重构规则转译器，基于 JS AST
- 重构规则校验方法（基于统一工具）
    - 生成前端 TypeScript 类型，提供智能提示
    - 转译时类型检查
    - 后端检查器命令（正在工作）
    - Blockly 工具箱（调研中）


## W3 1.15 - 1.21

- 完成规则转译器-后端命令-前端类型的完整链路

## W4 1.22 - 1.28

- 用 Babel 框架第二次重构转译器
    - 支持变量定义、复杂断言、流程控制
- 开始研究基于 IPC 的检查机制

## W5 1.29 - 2.4

- 完成 IPC 通信，选用 HTTP JSON-RPC
- 基本的 Windows Form 检查：
    - 按钮点击
    - 文本框输入
    - 文本、启用性、窗体标题等获取

## W6 2.4 - 2.11

- WinForm 按键发送
- 前端：基于 React 的单页面应用，框架
- 后端：HTML 适配

## W7 2.12 - 2.18

- 修复了转译器的一些 bug
- 前端：Blockly 自定义块（工作中）
- 后端：WinForm 适配

## W8 2.19 - 2.27

- 增加上传 .zip，解压并检测 .exe 的机制
- 通过额外的 deftools 模块，提供到 TS 类型、规则校验、Blockly 定义的统一方法（W2 目标）
  - 自定义文法 DefDef，使用 Peggy JS 提供语法解析器
  - 为方便开发，开发了 vscode 高亮扩展
  - 通过 TypeScript factory 模块生成 TS 类型
  - 生成 JSON 规则列表，供转译器读取并校验
  - 生成 Blockly 相关

## W9 2.28 - 3.6

- 修复了一些遗留问题
- 启动 Python turtle 的工作（目前基于库干预。是否合适？）
- 通过 C++ 实现对 turtle 窗体的截屏

## W10 3.7 - 3.13

- 修复了一些遗留问题
- 使用 C++ 实现 turtle 的 RPC Server
  - 启动新进程，执行干预后的用户脚本
  - 轮询获取窗体句柄（子窗体-可移植性？）
- 对应的规则/前端/后端更新
- 规则“库函数”，图像比对的初步实现（必须改）

## W11 3.14 - 3.20

- 修复了一些遗留问题
- 基于 Python 和一些 CV 算法实现了 2D 图形的图像比对

## W12 3.21 - 3.27

无进展

## W13 3.28 - 4.3

- Windows 窗体的鼠标事件模拟

## W14 4.4 ~ 4.10

- Windows 窗体的键盘事件处理
- 修复并改进了一些已知问题

## W15 4.11 ~ 4.17

- 改进了一些已知问题
- 论文的启动工作

## W16 4.18 ~ 4.24

- 将论文排版引擎修改到 Typst
- 魔改了 Typst 北大模板
- 论文 &sect;1 &sect;2.1

## W17 4.25 ~ 5.1

- 修改了论文标题，以及 &sect;1 中的描述
- 论文 &sect;2 &sect;3

## W18 5.2 ~ 5.8

- 论文 &sect;4

## W19 5.9 ~ 5.15

- 论文 &sect;5 &sect;6 &sect;7

